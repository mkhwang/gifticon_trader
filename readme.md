# Gifticon Trader

## 프로젝트 소개

기프티콘 거래 플랫폼입니다. 기프티콘을 사고 팔 수 있는 기능을 제공합니다.

## 프로젝트 목적

기프티콘 거래 플랫폼을 구현하여 Spring Boot와 JPA 활용한 웹 애플리케이션 개발 경험을 쌓고,

DDD(도메인 주도 설계)와 TDD를 적용하여, 유지보수성과 확장성을 고려한 아키텍처를 설계합니다.

## 시나리오

### 참고사항
- 이 프로젝트는 기프티콘 거래 플랫폼을 구현하기 위한 예시입니다.
- 실제 거래 플랫폼과는 다를 수 있습니다.

### 회원
1. 사용자는 회원가입을 통해 계정을 생성합니다.
   1. id(email), password, nickname 을 입력합니다.
   2. 회원 가입 후, 로그인 시에 이메일 인증을 통해 계정 활성화합니다.
   3. 이메일 인증 후, 계정 활성화가 완료되면 로그인할 수 있습니다.

### 기프티콘
1. 사용자는 기프티콘을 등록합니다.
   1. 기프티콘의 이름, 설명, 실제가격, 판매가격, 유효기간, 코드를 입력합니다.
2. 기프티콘 등록 후, 관리자의 심사가 필요합니다.
   1. 심사 거절 시, 사유를 입력하여 등록자에게 알림을 보냅니다.
   2. 코드 내용을 수정하여, 재심사 요청을 할 수 있습니다.
3. 관리자는 기프티콘을 승인하거나 거절합니다.
4. 기프티콘이 승인되면 기프티콘을 거래할 수 있습니다.

### 거래
1. 구매자가 기프티콘을 구매합니다.
   1. 기프티콘의 판매가격을 입력합니다.
   2. 결제 수단을 선택합니다. (카드, 계좌이체)
   3. 결제 완료 후, 판매자가 기프티콘을 전송합니다.
   4. 구매자는 기프티콘을 수령합니다.
2. 구매자가 기프티콘 수령 전에 거래취소를 요청합니다.
   1. 거래취소 요청 시, 사유를 입력합니다.
   2. 거래취소가 수락되면 결제금액을 환불합니다.

### 정산
- 관리자는 기프티콘 판매자에게 정산을 진행합니다.
   1. 거래 완료된 기프티콘을 조회합니다.
   2. 정산할 기프티콘을 선택하여 정산합니다. (수수료 5%)

### 알림
- 사용자는 기프티콘 등록, 거래, 정산 등의 알림을 받을 수 있습니다.
   1. 알림은 이메일로 발송됩니다.
   2. 알림은 사용자가 확인할 수 있습니다.

## Aggregate Root

1. User
2. Gifticon
3. Notification
4. Transaction
5. Settlement


## 기술 스택 요약

- Language: Java 17
- Framework: Spring Boot 3, Spring Security, JPA, Thymeleaf
- Build Tool: Gradle
- Test: JUnit5, Mockito
- Database: PostgreSQL, H2 (test)
- Email: JavaMailSender
- Redis Session & Caching
- RabbitMQ 기반 메시지 큐잉
- gitflow CI (self-hosted)
  - [Docker Hub](https://hub.docker.com/r/hmk6264/gifticon-trader)

## Aggregate Root

- User
- Gifticon
- Notification
- Transaction 
- Settlement

## 구현기능
- 인증
  - [x] 회원가입
  - [x] 로그인
  - [x] 로그아웃
  - [x] 이메일 인증
- 기프티콘
  - [ ] 기프티콘 등록
  - [ ] 기프티콘 수정
  - [ ] 기프티콘 삭제
  - [ ] 기프티콘 심사
  - [ ] 기프티콘 거래
- 거래
  - [ ] 기프티콘 구매
  - [ ] 기프티콘 구매취소
  - [ ] 기프티콘 거래완료
- 정산
  - [ ] 판매자 정산
